const Votation = require("../votation/votation.model");
const votationsSeed=[{
    "_id": {
      "$oid": "63209d45563ab3725d87cc28"
    },
    "title": "top 5 animes para programar",
    "description": "animes para progamar",
    "image": "https://pbs.twimg.com/media/Fc0Tuc0XgAA9ueI?format=jpg&name=large",
    "color": "#1e48f1",
    "creator": "jean",
    "status": true,
    "date": {
      "$date": {
        "$numberLong": "1663081797487"
      }
    },
    "__v": 0
  },{
    "_id": {
      "$oid": "632613cdfb0f049d9c270a32"
    },
    "title": "Top 10 animes Shounen",
    "description": "este es un top de animes",
    "image": "https://pbs.twimg.com/media/FcdTOuLWQAAw3qk?format=jpg&name=4096x4096",
    "color": "#8b5cf6",
    "creator": "alexis",
    "status": true,
    "date": {
      "$date": {
        "$numberLong": "1663439821519"
      }
    },
    "__v": 0
  },{
    "_id": {
      "$oid": "632014e944308cea87cd7758"
    },
    "title": "Top 5 animes que debes ver",
    "description": "5 animes de slice of life que debes ver",
    "image": "https://pbs.twimg.com/media/EePpSNuU4AImvT9?format=jpg&name=4096x4096",
    "color": "#ffd333",
    "creator": "romel",
    "status": true,
    "date": {
      "$date": {
        "$numberLong": "1663046889208"
      }
    },
    "__v": 0
  },{
    "_id": {
      "$oid": "6324ee6c4ec5c942c45029f2"
    },
    "title": "Top 10 animes Shounen",
    "description": "este es un top de animes",
    "image": "https://pbs.twimg.com/media/FcdTOuLWQAAw3qk?format=jpg&name=4096x4096",
    "color": "#8b5cf6",
    "creator": "alexis",
    "status": true,
    "date": {
      "$date": {
        "$numberLong": "1663364716284"
      }
    },
    "__v": 0
  },{
    "_id": {
      "$oid": "63200b2d44308cea87cd7720"
    },
    "title": "Top 10 animes 2022",
    "description": "este es un top de animes",
    "image": "https://pbs.twimg.com/media/FcdTOuLWQAAw3qk?format=jpg&name=4096x4096",
    "color": "#8b5cf6",
    "creator": "alexis",
    "status": true,
    "date": {
      "$date": {
        "$numberLong": "1663044397109"
      }
    },
    "__v": 0
  },{
    "_id": {
      "$oid": "6325fdd1d5040f56024b027e"
    },
    "title": "Top 5 juegos",
    "description": "top sobre juegos que deberías probar",
    "image": "https://cdn7.kiwilimon.com/clasificacion/3888/3888.jpg",
    "color": "#13e721",
    "creator": "Jean",
    "status": true,
    "date": {
      "$date": {
        "$numberLong": "1663434193763"
      }
    },
    "__v": 0
  },{
    "_id": {
      "$oid": "632095b1563ab3725d87cb94"
    },
    "title": "Top 10 animes Shounen",
    "description": "este es un top de animes",
    "image": "https://pbs.twimg.com/media/FcdTOuLWQAAw3qk?format=jpg&name=4096x4096",
    "color": "#8b5cf6",
    "creator": "alexis",
    "status": true,
    "date": {
      "$date": {
        "$numberLong": "1663079857998"
      }
    },
    "__v": 0
  },{
    "_id": {
      "$oid": "63200c9244308cea87cd772e"
    },
    "title": "Top 10 animes 2022",
    "description": "este es un top de animes",
    "image": "https://pbs.twimg.com/media/FcdTOuLWQAAw3qk?format=jpg&name=4096x4096",
    "color": "#8b5cf6",
    "creator": "alexis",
    "status": true,
    "date": {
      "$date": {
        "$numberLong": "1663044754153"
      }
    },
    "__v": 0
  },{
    "_id": {
      "$oid": "631ffc2abc6f7aa0cd0916f3"
    },
    "title": "Top 10 animes 2022",
    "description": "este es un top de animes",
    "image": "https://pbs.twimg.com/media/FcdTOuLWQAAw3qk?format=jpg&name=4096x4096",
    "color": "#8b5cf6",
    "creator": "alexis",
    "status": true,
    "date": {
      "$date": {
        "$numberLong": "1663040554946"
      }
    },
    "__v": 0
  },{
    "_id": {
      "$oid": "63253a1f0fec54dfd60d1a99"
    },
    "title": "Top 5 framerworks js",
    "description": "esta es una encuesta sobre frameworks js",
    "image": "https://pbs.twimg.com/media/FcxO8AEWAAABh9L?format=png&name=900x900",
    "color": "#42ff94",
    "creator": "Alvaro",
    "status": true,
    "date": {
      "$date": {
        "$numberLong": "1663384095476"
      }
    },
    "__v": 0
  },{
    "_id": {
      "$oid": "651a2dd0edeabcdf1287bdf9"
    },
    "title": "verano del 2023",
    "description": "animes 2023",
    "image": "https://pbs.twimg.com/media/F7Zfu-daoAAzM-b?format=jpg&name=medium",
    "color": "#8b5cf6",
    "creator": "alexis",
    "status": true,
    "date": {
      "$date": {
        "$numberLong": "1696214480024"
      }
    },
    "__v": 0
  },{
    "_id": {
      "$oid": "6694a4fd8bf5cb71674f2a5c"
    },
    "title": "Top animes Verano 2024",
    "description": "30 animes",
    "image": "https://res.cloudinary.com/react-romel/image/upload/v1654233743/yucvgiqellmearexmwgg.jpg",
    "color": "#5729c2",
    "creator": "Anime X Comunidad",
    "status": true,
    "date": {
      "$date": {
        "$numberLong": "1721017597989"
      }
    },
    "__v": 0
  }];

  const insertVotes = async () => {
    try {
    
        // Limpia la colección antes de insertar
        await Votation.deleteMany({});
    
        // Itera sobre el array y guarda cada votación
        for (const votation of votationsSeed) {
          const newVotation = new Votation({
            _id: votation._id.$oid,
            title: votation.title,
            description: votation.description,
            image: votation.image,
            color: votation.color,
            creator: votation.creator,
            status: votation.status,
            type_form: "general",
            expiration: new Date(parseInt(votation.date.$date.$numberLong)),
            createdAt: new Date(parseInt(votation.date.$date.$numberLong)), // Usando la fecha de creación original
            updatedAt: new Date(parseInt(votation.date.$date.$numberLong)), // Usando la fecha de actualización original
          });
          await newVotation.save();
        }
    
        console.log("Votaciones insertadas correctamente");
      } catch (error) {
        console.error("Error al insertar las votaciones:", error);
      } finally {
        // Desconecta de la base de datos
      }
  };
  
  module.exports = {
    insertVotes,
  };